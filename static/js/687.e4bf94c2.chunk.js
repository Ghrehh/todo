"use strict";(self.webpackChunktodo=self.webpackChunktodo||[]).push([[687],{836:function(r,e,n){n.d(e,{Z:function(){return s}});var t=n(683);function a(r,e){if(null==r)return{};var n,t,a=function(r,e){if(null==r)return{};var n,t,a={},o=Object.keys(r);for(t=0;t<o.length;t++)n=o[t],e.indexOf(n)>=0||(a[n]=r[n]);return a}(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(t=0;t<o.length;t++)n=o[t],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}var o=n(184),i=["group","draggable","onDropReceived","onDropped","data"],u=function(r){var e=r.group,n=r.draggable,u=r.onDropReceived,s=r.onDropped,c=r.data,d=a(r,i);if(n&&(!c||!s))throw new Error("missing required props data or onDropped");return(0,o.jsx)("div",(0,t.Z)((0,t.Z)({},d),{},{draggable:n,onDragStart:function(r){r.stopPropagation(),r.dataTransfer.setData("draggable/".concat(e),JSON.stringify(c)),r.dataTransfer.effectAllowed="move"},onDragOver:function(r){r.stopPropagation();var n=r.dataTransfer.types.includes("draggable/".concat(e));r.dataTransfer.dropEffect=n?"move":"none",r.preventDefault()},onDrop:function(r){if(r.stopPropagation(),r.dataTransfer.types.includes("draggable/".concat(e))){var n=r.dataTransfer.getData("draggable/".concat(e)),t=JSON.parse(n);u(t)}r.preventDefault()},onDragEnd:function(r){r.stopPropagation(),"move"===r.dataTransfer.dropEffect&&s()}}))};u.defaultProps={draggable:!0};var s=u},699:function(r,e,n){var t=n(885),a=n(967);e.Z=function(r){var e=(0,a.Z)("board-".concat(r)),n=(0,t.Z)(e,2),o=n[0],i=n[1];if(null===o)throw new Error("cannot find board");return[o,i]}},967:function(r,e,n){n.d(e,{Z:function(){return g}});var t=n(885),a=n(791),o=n(285),i=n(671),u=n(144),s=n(274),c=n(359),d=(0,c.Z)("notifyCallback"),f=(0,c.Z)("active"),l=function(){function r(e){(0,i.Z)(this,r),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:!1}),(0,s.Z)(this,d)[d]=e}return(0,u.Z)(r,[{key:"subscribe",value:function(){(0,s.Z)(this,f)[f]=!0}},{key:"unsubscribe",value:function(){(0,s.Z)(this,f)[f]=!1}},{key:"notify",value:function(){(0,s.Z)(this,f)[f]&&(0,s.Z)(this,d)[d]()}}]),r}(),b=function(){var r=(0,a.useReducer)((function(r){return r+1}),0),e=(0,t.Z)(r,2);e[0];return e[1]},p=function(r,e){var n=(0,a.useContext)(o.Z),t=b(),i=(0,a.useCallback)((function(e){return n.set(r,e)}),[r,n]),u=(0,a.useCallback)((function(e){return n.merge(r,e)}),[r,n]);return(0,a.useEffect)((function(){var e=new l(t);return n.addObserver(r,e),e.subscribe(),function(){e.unsubscribe(),n.removeObserver(r,e)}}),[r,n,t]),[n.get(r,e),i,u]},v=n(782),g=function(r,e){null===v.X.getItem(r)&&null!==e&&v.X.setItem(r,JSON.stringify(e));var n=p("local-storage-updater-".concat(r),JSON.parse(v.X.getItem(r))),o=(0,t.Z)(n,2),i=o[0],u=o[1];return[i,(0,a.useCallback)((function(e){v.X.setItem(r,JSON.stringify(e)),u(e)}),[u,r])]}},687:function(r,e,n){n.r(e),n.d(e,{default:function(){return y}});var t=n(885),a=n(791),o=n(836),i=n(967),u=function(){return(0,i.Z)("boards",[])},s=n(982),c=n(782),d=function(){var r=u(),e=(0,t.Z)(r,2),n=e[0],o=e[1];return(0,a.useCallback)((function(r){var e=r.name;if("string"!==typeof e)throw new Error("name is required");var t=c.e.randomUUID(),a=[].concat((0,s.Z)(n),[{sortableId:c.e.randomUUID(),boardId:t}]);c.X.setItem("board-".concat(t),JSON.stringify({name:e,categories:[]})),o(a)}),[n,o])},f=function(){var r=u(),e=(0,t.Z)(r,2),n=e[0],o=e[1],i=(0,a.useCallback)((function(r,e){if("string"!==typeof r)throw new Error("boardId is required");var t=(0,s.Z)(n);t.splice(e,0,{sortableId:c.e.randomUUID(),boardId:r}),o(t)}),[n,o]),d=(0,a.useCallback)((function(r){if("string"!==typeof r)throw new Error("sortableId is required");var e=(0,s.Z)(n),t=e.findIndex((function(e){return e.sortableId===r}));if(-1===t)throw new Error("cannot find board to remove");e.splice(t,1),o(e)}),[n,o]);return(0,a.useMemo)((function(){return{onDropReceived:i,onDropped:d}}),[i,d])},l=n(87),b=n(699),p={board:"styles_board__myLKG",boardLink:"styles_boardLink__Epvds"},v=n(184),g=function(r){var e=r.id,n=(0,b.Z)(e),a=(0,t.Z)(n,1)[0].name;return(0,v.jsx)(l.rU,{className:p.boardLink,to:"boards/".concat(e),children:(0,v.jsx)("p",{className:p.sortableOne,children:a})})},m={boards:"styles_boards__pyK2L",boardLast:"styles_boardLast__Pon-3"},y=function(){var r=u(),e=(0,t.Z)(r,1)[0],n=d(),i=f(),s=i.onDropReceived,c=i.onDropped,l=(0,a.useCallback)((function(r){r.preventDefault(),n({name:r.target.name.value}),r.target.name.value=""}),[n]);return(0,v.jsxs)("div",{className:m.boards,children:[e.map((function(r,e){var n=r.sortableId,t=r.boardId;return(0,v.jsx)(o.Z,{className:m.board,group:"boards",data:t,onDropReceived:function(r){return s(r,e)},onDropped:function(){return c(n)},children:(0,v.jsx)(g,{id:t})},n)})),(0,v.jsx)(o.Z,{className:m.boardLast,draggable:!1,group:"note",onDropReceived:function(r){return s(r,e.length)}}),(0,v.jsxs)("form",{onSubmit:l,children:[(0,v.jsx)("input",{required:!0,minLength:"1",name:"name",placeholder:"name"}),(0,v.jsx)("input",{type:"submit",value:"Add Board"})]})]})}},782:function(r,e,n){n.d(e,{X:function(){return a},e:function(){return t}});var t=window.crypto,a=window.localStorage}}]);
//# sourceMappingURL=687.e4bf94c2.chunk.js.map