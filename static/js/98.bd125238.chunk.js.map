{"version":3,"file":"static/js/98.bd125238.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/Sortable/index.js","hooks/useBoard/index.js","contexts/cache/Cache/CacheKeyObserver/index.js","hooks/useCache/useForceUpdate.js","hooks/useCache/index.js","hooks/useLocalStorage/index.js","pages/Board/useSortCategories/index.js","pages/Board/useCreateCategory/index.js","hooks/useCategory/index.js","pages/Board/Category/useSortTodos/index.js","pages/Board/Category/useCreateTodo/index.js","pages/Board/Category/useDeleteCategory/index.js","hooks/useTodo/index.js","hooks/useDeleteTodo/index.js","webpack://todo/./src/pages/Board/Category/Todo/style.module.css?fecf","pages/Board/Category/Todo/index.js","webpack://todo/./src/pages/Board/Category/styles.module.css?cb26","pages/Board/Category/index.js","webpack://todo/./src/pages/Board/styles.module.css?8bcf","pages/Board/index.js","utils/window.js"],"sourcesContent":["import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import PropTypes from \"prop-types\";\n\nconst Sortable = ({\n  group,\n  draggable,\n  onDropReceived,\n  onDropped,\n  data,\n  ...restProps\n}) => {\n  if (draggable) {\n    if (!data || !onDropped) {\n      throw new Error(\"missing required props data or onDropped\");\n    }\n  }\n\n  return (\n    <div\n      {...restProps}\n      draggable={draggable}\n      onDragStart={(e) => {\n        e.stopPropagation();\n        e.dataTransfer.setData(`draggable/${group}`, JSON.stringify(data));\n        e.dataTransfer.effectAllowed = \"move\";\n      }}\n      onDragOver={(e) => {\n        e.stopPropagation();\n        const isSortable = e.dataTransfer.types.includes(`draggable/${group}`);\n\n        if (isSortable) {\n          e.dataTransfer.dropEffect = \"move\";\n        } else {\n          e.dataTransfer.dropEffect = \"none\";\n        }\n\n        e.preventDefault();\n      }}\n      onDrop={(e) => {\n        e.stopPropagation();\n        const isSortable = e.dataTransfer.types.includes(`draggable/${group}`);\n\n        if (isSortable) {\n          const data = e.dataTransfer.getData(`draggable/${group}`);\n          const parsedData = JSON.parse(data);\n          onDropReceived(parsedData);\n        }\n\n        e.preventDefault();\n      }}\n      onDragEnd={(e) => {\n        e.stopPropagation();\n        if (e.dataTransfer.dropEffect === \"move\") onDropped();\n      }}\n    />\n  );\n};\n\nSortable.propTypes = {\n  group: PropTypes.string.isRequired,\n  onDropReceived: PropTypes.func.isRequired,\n  onDropped: PropTypes.func,\n  data: PropTypes.any,\n  draggable: PropTypes.bool,\n};\n\nSortable.defaultProps = {\n  draggable: true,\n};\n\nexport default Sortable;\n","import useLocalStorage from \"hooks/useLocalStorage\";\n\nconst useBoard = (id) => {\n  const [board, setBoard] = useLocalStorage(`board-${id}`);\n\n  if (board === null) throw new Error(\"cannot find board\");\n\n  return [board, setBoard];\n};\n\nexport default useBoard;\n","export default class CacheKeyObserver {\n  #notifyCallback;\n  #active = false;\n\n  constructor(notifyCallback) {\n    this.#notifyCallback = notifyCallback;\n  }\n\n  subscribe() {\n    this.#active = true;\n  }\n\n  unsubscribe() {\n    this.#active = false;\n  }\n\n  notify() {\n    if (this.#active) this.#notifyCallback();\n  }\n}\n","import { useReducer } from \"react\";\n\nconst useForceUpdate = () => {\n  const [_, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  return forceUpdate;\n};\n\nexport default useForceUpdate;\n","import { useCallback, useContext, useEffect } from \"react\";\nimport CacheContext from \"contexts/cache\";\nimport CacheKeyObserver from \"contexts/cache/Cache/CacheKeyObserver\";\nimport useForceUpdate from \"./useForceUpdate\";\n\nconst useCache = (key, defaultValue) => {\n  const cache = useContext(CacheContext);\n  const forceUpdate = useForceUpdate();\n  const setData = useCallback(\n    (newData) => cache.set(key, newData),\n    [key, cache]\n  );\n\n  const mergeData = useCallback(\n    (newData) => cache.merge(key, newData),\n    [key, cache]\n  );\n\n  useEffect(() => {\n    const observer = new CacheKeyObserver(forceUpdate);\n    cache.addObserver(key, observer);\n    observer.subscribe();\n\n    return () => {\n      observer.unsubscribe();\n      cache.removeObserver(key, observer);\n    };\n  }, [key, cache, forceUpdate]);\n\n  return [cache.get(key, defaultValue), setData, mergeData];\n};\n\nexport default useCache;\n","import { useCallback } from \"react\";\nimport useCache from \"hooks/useCache\";\nimport { localStorage } from \"utils/window\";\n\nconst useLocalStorage = (key, defaultValue) => {\n  const unparsedLocalStorageData = localStorage.getItem(key);\n  if (unparsedLocalStorageData === null && defaultValue !== null) {\n    localStorage.setItem(key, JSON.stringify(defaultValue));\n  }\n\n  // Shared cache key between all consumers of a local storage key, so that an update to one\n  // will refresh them all.\n  const [cacheData, setCacheData] = useCache(\n    key,\n    JSON.parse(localStorage.getItem(key))\n  );\n\n  const setData = useCallback(\n    (newData) => {\n      localStorage.setItem(key, JSON.stringify(newData));\n      setCacheData(newData);\n    },\n    [setCacheData, key]\n  );\n\n  return [cacheData, setData];\n};\n\nexport default useLocalStorage;\n","import { useMemo, useCallback } from \"react\";\nimport useBoard from \"hooks/useBoard\";\n\nimport { crypto } from \"utils/window\";\n\nconst useSortBoards = (boardId) => {\n  const [board, setBoard] = useBoard(boardId);\n\n  const onDropReceived = useCallback(\n    (categoryId, index) => {\n      if (typeof categoryId !== \"string\")\n        throw new Error(\"categoryId is required\");\n\n      const newCategories = [...board.categories];\n      newCategories.splice(index, 0, {\n        sortableId: crypto.randomUUID(),\n        categoryId,\n      });\n\n      setBoard({\n        ...board,\n        categories: newCategories,\n      });\n    },\n    [board, setBoard]\n  );\n\n  const onDropped = useCallback(\n    (sortableId) => {\n      if (typeof sortableId !== \"string\")\n        throw new Error(\"sortableId is required\");\n\n      const newCategories = [...board.categories];\n      const removeIndex = newCategories.findIndex(\n        (category) => category.sortableId === sortableId\n      );\n\n      if (removeIndex === -1) throw new Error(\"cannot find category to remove\");\n\n      newCategories.splice(removeIndex, 1);\n\n      setBoard({\n        ...board,\n        categories: newCategories,\n      });\n    },\n    [board, setBoard]\n  );\n\n  return useMemo(\n    () => ({\n      onDropReceived,\n      onDropped,\n    }),\n    [onDropReceived, onDropped]\n  );\n};\n\nexport default useSortBoards;\n","import { useCallback } from \"react\";\nimport useBoard from \"hooks/useBoard\";\n\nimport { crypto, localStorage } from \"utils/window\";\n\nconst useCreateCategory = (boardId) => {\n  const [board, setBoard] = useBoard(boardId);\n\n  return useCallback(\n    ({ name }) => {\n      if (typeof name !== \"string\") throw new Error(\"name is required\");\n\n      const newCategoryId = crypto.randomUUID();\n      const newCategories = [\n        ...board.categories,\n        { sortableId: crypto.randomUUID(), categoryId: newCategoryId },\n      ];\n\n      localStorage.setItem(\n        `category-${newCategoryId}`,\n        JSON.stringify({\n          name,\n          todos: [],\n        })\n      );\n\n      setBoard({ ...board, categories: newCategories });\n    },\n    [board, setBoard]\n  );\n};\n\nexport default useCreateCategory;\n","import useLocalStorage from \"hooks/useLocalStorage\";\n\nconst useCategory = (id) => {\n  const [category, setCategory] = useLocalStorage(`category-${id}`);\n\n  if (category === null) throw new Error(\"cannot find category\");\n\n  return [category, setCategory];\n};\n\nexport default useCategory;\n","import { useMemo, useCallback } from \"react\";\nimport useCategory from \"hooks/useCategory\";\n\nimport { crypto } from \"utils/window\";\n\nconst useSortTodos = (categoryId) => {\n  const [category, setCategory] = useCategory(categoryId);\n\n  const onDropReceived = useCallback(\n    (todoId, index) => {\n      if (typeof todoId !== \"string\") throw new Error(\"todoId is required\");\n\n      const newTodos = [...category.todos];\n      newTodos.splice(index, 0, {\n        sortableId: crypto.randomUUID(),\n        todoId,\n      });\n\n      setCategory({\n        ...category,\n        todos: newTodos,\n      });\n    },\n    [category, setCategory]\n  );\n\n  const onDropped = useCallback(\n    (sortableId) => {\n      if (typeof sortableId !== \"string\")\n        throw new Error(\"sortableId is required\");\n\n      const newTodos = [...category.todos];\n      const removeIndex = newTodos.findIndex(\n        (todo) => todo.sortableId === sortableId\n      );\n\n      if (removeIndex === -1) throw new Error(\"cannot find todo to remove\");\n\n      newTodos.splice(removeIndex, 1);\n\n      setCategory({\n        ...category,\n        todos: newTodos,\n      });\n    },\n    [category, setCategory]\n  );\n\n  return useMemo(\n    () => ({\n      onDropReceived,\n      onDropped,\n    }),\n    [onDropReceived, onDropped]\n  );\n};\n\nexport default useSortTodos;\n","import { useCallback } from \"react\";\nimport useCategory from \"hooks/useCategory\";\n\nimport { crypto, localStorage } from \"utils/window\";\n\nconst useCreateTodo = (categoryId) => {\n  const [category, setCategory] = useCategory(categoryId);\n\n  return useCallback(\n    ({ title }) => {\n      if (typeof title !== \"string\") throw new Error(\"title is required\");\n\n      const newTodoId = crypto.randomUUID();\n      const newTodos = [\n        ...category.todos,\n        { sortableId: crypto.randomUUID(), todoId: newTodoId },\n      ];\n\n      localStorage.setItem(\n        `todo-${newTodoId}`,\n        JSON.stringify({\n          title,\n          text: \"\",\n        })\n      );\n\n      setCategory({ ...category, todos: newTodos });\n    },\n    [category, setCategory]\n  );\n};\n\nexport default useCreateTodo;\n","import { useCallback, useContext } from \"react\";\nimport CacheContext from \"contexts/cache\";\nimport { localStorage } from \"utils/window\";\n\nconst useDeleteCategory = (deleteCategoryId) => {\n  const cache = useContext(CacheContext);\n\n  return useCallback(() => {\n    Object.keys(cache.keys)\n      .filter((key) => key.includes(\"board\"))\n      .forEach((boardKey) => {\n        const board = cache.get(boardKey);\n        const categoryDeleteIndex = board.categories.findIndex(\n          (category) => category.categoryId === deleteCategoryId\n        );\n\n        if (categoryDeleteIndex !== -1) {\n          const newCategories = [...board.categories];\n          newCategories.splice(categoryDeleteIndex, 1);\n\n          const newBoard = {\n            ...board,\n            categories: newCategories,\n          };\n\n          localStorage.setItem(boardKey, JSON.stringify(newBoard));\n          cache.set(boardKey, newBoard);\n        }\n      });\n  }, [cache, deleteCategoryId]);\n};\n\nexport default useDeleteCategory;\n","import useLocalStorage from \"hooks/useLocalStorage\";\n\nconst useTodo = (id) => {\n  const [todo, setTodo] = useLocalStorage(`todo-${id}`);\n\n  if (todo === null) throw new Error(\"cannot find todo\");\n\n  return [todo, setTodo];\n};\n\nexport default useTodo;\n","import { useCallback, useContext } from \"react\";\nimport CacheContext from \"contexts/cache\";\nimport { localStorage } from \"utils/window\";\n\nconst useDeleteTodo = (deleteTodoId) => {\n  const cache = useContext(CacheContext);\n\n  return useCallback(() => {\n    Object.keys(cache.keys)\n      .filter((key) => key.includes(\"category\"))\n      .forEach((categoryKey) => {\n        const category = cache.get(categoryKey);\n        const todoDeleteIndex = category.todos.findIndex(\n          (todo) => todo.todoId === deleteTodoId\n        );\n\n        if (todoDeleteIndex !== -1) {\n          const newTodos = [...category.todos];\n          newTodos.splice(todoDeleteIndex, 1);\n\n          const newCategory = {\n            ...category,\n            todos: newTodos,\n          };\n\n          localStorage.setItem(categoryKey, JSON.stringify(newCategory));\n          cache.set(categoryKey, newCategory);\n        }\n      });\n  }, [cache, deleteTodoId]);\n};\n\nexport default useDeleteTodo;\n","// extracted by mini-css-extract-plugin\nexport default {\"todo\":\"style_todo__Cd0It\",\"delete\":\"style_delete__01aeG\"};","import PropTypes from \"prop-types\";\nimport useTodo from \"hooks/useTodo\";\nimport useDeleteTodo from \"hooks/useDeleteTodo\";\nimport styles from \"./style.module.css\";\n\nconst Todo = ({ id }) => {\n  const [{ title }] = useTodo(id);\n  const deleteTodo = useDeleteTodo(id);\n\n  const handleDelete = () => {\n    const shouldDelete = window.confirm(\"Do you want to delete this todo?\");\n\n    if (shouldDelete) deleteTodo();\n  };\n\n  return (\n    <div className={styles.todo}>\n      {title}\n      <button className={styles.delete} onClick={handleDelete}>\n        X\n      </button>\n    </div>\n  );\n};\n\nTodo.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nexport default Todo;\n","// extracted by mini-css-extract-plugin\nexport default {\"category\":\"styles_category__sQGtR\",\"todoLast\":\"styles_todoLast__LIsFn\",\"heading\":\"styles_heading__lKpL0\",\"delete\":\"styles_delete__ZQkhI\"};","import PropTypes from \"prop-types\";\nimport { useCallback } from \"react\";\n\nimport Sortable from \"components/Sortable\";\nimport useCategory from \"hooks/useCategory\";\n\nimport useSortTodos from \"./useSortTodos\";\nimport useCreateTodo from \"./useCreateTodo\";\nimport useDeleteCategory from \"./useDeleteCategory\";\nimport Todo from \"./Todo\";\n\nimport styles from \"./styles.module.css\";\n\nconst Category = ({ id }) => {\n  const [{ name, todos }] = useCategory(id);\n  const createTodo = useCreateTodo(id);\n  const { onDropReceived, onDropped } = useSortTodos(id);\n  const deleteCategory = useDeleteCategory(id);\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      createTodo({ title: e.target.title.value });\n      e.target.title.value = \"\";\n    },\n    [createTodo]\n  );\n\n  const handleDelete = () => {\n    const shouldDelete = window.confirm(\"Do you want to delete this category?\");\n\n    if (shouldDelete) deleteCategory();\n  };\n\n  return (\n    <div className={styles.category}>\n      <div className={styles.heading}>\n        <h1>{name}</h1>\n        <button className={styles.delete} onClick={handleDelete}>\n          X\n        </button>\n      </div>\n      <div className={styles.todos}>\n        {todos.map(({ sortableId, todoId }, index) => (\n          <Sortable\n            className={styles.todo}\n            group=\"todos\"\n            key={sortableId}\n            data={todoId}\n            onDropReceived={(movedTodoId) => onDropReceived(movedTodoId, index)}\n            onDropped={() => onDropped(sortableId)}\n          >\n            <Todo id={todoId} />\n          </Sortable>\n        ))}\n        <Sortable\n          className={styles.todoLast}\n          draggable={false}\n          group=\"todos\"\n          onDropReceived={(movedTodoId) =>\n            onDropReceived(movedTodoId, todos.length)\n          }\n        ></Sortable>\n        <form onSubmit={handleSubmit}>\n          <input required minLength=\"1\" name=\"title\" placeholder=\"title\" />\n          <input type=\"submit\" value=\"Add Todo\" />\n        </form>\n      </div>\n    </div>\n  );\n};\n\nCategory.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nexport default Category;\n","// extracted by mini-css-extract-plugin\nexport default {\"boardPage\":\"styles_boardPage__7zTL0\",\"heading\":\"styles_heading__UJRRG\",\"categories\":\"styles_categories__zZ5mP\",\"category\":\"styles_category__gbHJU\"};","import { useCallback } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport useBoard from \"hooks/useBoard\";\nimport Sortable from \"components/Sortable\";\n\nimport useSortCategories from \"./useSortCategories\";\nimport useCreateCategory from \"./useCreateCategory\";\nimport Category from \"./Category\";\n\nimport styles from \"./styles.module.css\";\n\nconst BoardPage = () => {\n  const { boardId } = useParams();\n  const [{ name, categories }] = useBoard(boardId);\n  const { onDropReceived, onDropped } = useSortCategories(boardId);\n  const createCategory = useCreateCategory(boardId);\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      createCategory({ name: e.target.name.value });\n      e.target.name.value = \"\";\n    },\n    [createCategory]\n  );\n\n  return (\n    <div className={styles.boardPage}>\n      <h1 className={styles.heading}>{name}</h1>\n      <div className={styles.categories}>\n        {categories.map(({ sortableId, categoryId }, index) => (\n          <Sortable\n            className={styles.category}\n            group=\"catgories\"\n            key={sortableId}\n            data={categoryId}\n            onDropReceived={(movedCategoryId) =>\n              onDropReceived(movedCategoryId, index)\n            }\n            onDropped={() => onDropped(sortableId)}\n          >\n            <Category id={categoryId} />\n          </Sortable>\n        ))}\n        <form onSubmit={handleSubmit}>\n          <input required minLength=\"1\" name=\"name\" placeholder=\"name\" />\n          <input type=\"submit\" value=\"Add Category\" />\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default BoardPage;\n","export const crypto = window.crypto;\nexport const localStorage = window.localStorage;\n"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","Sortable","group","draggable","onDropReceived","onDropped","data","restProps","Error","onDragStart","e","stopPropagation","dataTransfer","setData","JSON","stringify","effectAllowed","onDragOver","isSortable","types","includes","dropEffect","preventDefault","onDrop","getData","parsedData","parse","onDragEnd","defaultProps","id","useLocalStorage","board","setBoard","CacheKeyObserver","notifyCallback","this","useReducer","x","defaultValue","cache","useContext","CacheContext","forceUpdate","useForceUpdate","useCallback","newData","set","mergeData","merge","useEffect","observer","addObserver","subscribe","unsubscribe","removeObserver","get","localStorage","useCache","cacheData","setCacheData","boardId","useBoard","categoryId","index","newCategories","categories","splice","sortableId","crypto","removeIndex","findIndex","category","useMemo","name","newCategoryId","todos","setCategory","useCategory","todoId","newTodos","todo","title","newTodoId","text","deleteCategoryId","filter","forEach","boardKey","categoryDeleteIndex","newBoard","setTodo","deleteTodoId","categoryKey","todoDeleteIndex","newCategory","useTodo","deleteTodo","useDeleteTodo","className","styles","onClick","window","confirm","createTodo","useCreateTodo","useSortTodos","deleteCategory","useDeleteCategory","handleSubmit","value","map","movedTodoId","onSubmit","required","minLength","placeholder","type","useParams","useSortCategories","createCategory","useCreateCategory","movedCategoryId"],"sourceRoot":""}